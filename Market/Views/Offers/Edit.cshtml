@using Market.Models
@model AddOfferViewModel

@{
    ViewData["Title"] = "Offers";
}


<form class="form" asp-action="Edit" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="@Model.Offer.Id" placeholder="@Model.Offer.Id"/>
    <div class="form-container">
        <input id="image-input" asp-for="@Model.File" type="file" value="@Model.File" name="file" required />
        <img id="image-display" src="#" alt="your image" />
        <input asp-for="@Model.Offer.Title" placeholder="@Model.Offer.Title" aria-required="true" />
        <span asp-validation-for="@Model.Offer.Title" class="text-danger"></span>
    </div>
    <div class="form-container">
        <input asp-for="@Model.Offer.Town" placeholder="@Model.Offer.Town" aria-required="true" />
        <span asp-validation-for="@Model.Offer.Town" class="text-danger"></span>
    </div>
    <div class="form-container">
        <input asp-for="@Model.Offer.Description" placeholder="@Model.Offer.Description" aria-required="true" />
        <span asp-validation-for="@Model.Offer.Description" class="text-danger"></span>
    </div>
    <div class="form-container">
        <input asp-for="@Model.Offer.PricePerKG" placeholder="@Model.Offer.PricePerKG" aria-required="true" />
        <span asp-validation-for="@Model.Offer.PricePerKG" class="text-danger"></span>
    </div>
    <div class="form-container">
        <input asp-for="@Model.Offer.StockId" placeholder="@Model.Offer.StockId" aria-required="true" />
        <span asp-validation-for="@Model.Offer.StockId" class="text-danger"></span>
    </div>
    <button type="submit">Submit</button>
</form>

<script>
    function displayImage() {
        var file = document.getElementById('image-input').files[0];
        var reader  = new FileReader();
        reader.onload = function(e)  {
            var image = document.createElement("img");
            document.getElementById("image-display").src = e.target.result;
         }
         reader.readAsDataURL(file);
     }

     document.onload = () => {
         displayImage();
     }

     document.getElementById("image-input").onchange = () => {
         displayImage();
     };
</script>